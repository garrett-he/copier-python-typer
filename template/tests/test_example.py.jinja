from typer.testing import CliRunner
from {{ project_package }}.__main__ import app

runner = CliRunner()


def test_app():
    result = runner.invoke(app, ['hello', 'Camila'])
    assert result.exit_code == 0
    assert 'Hello Camila' in result.stdout

    result = runner.invoke(app, ['goodbye', 'Camila'])
    assert result.exit_code == 0
    assert 'Bye Camila!' in result.stdout

    result = runner.invoke(app, ['goodbye', '--formal', 'Camila'])
    assert result.exit_code == 0
    assert 'Goodbye Ms. Camila. Have a good day.' in result.stdout
